<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sailpoint PUBLIC "sailpoint.dtd" "sailpoint.dtd">
<sailpoint>
<Rule language="beanshell" name="Approval Assignment Template" type="ApprovalAssignment">
    <Description>
        This example rule switches all of the owners to spadmin. The idea
        of this rule is to allow some customization of the approvals
        so the ownership can be calculated for cases where you might
        use and extended attribute or some other means outside our
        default mechanisms to derive the owner of the Approval.

        This rule is typically configured on the Approval Step
        in the LCM Provisioning Workflow or can be set on any
        steps based on the "Provisioning Approval" step
        library.

        Since 6.2
      </Description>
    <Signature>
        <Inputs>
          <Argument name="context">
            <Description>
              A sailpoint.api.SailPointContext object that can be used to query
              the database if necessary.
            </Description>
          </Argument>
          <Argument name="log">
            <Description>
              The log object associated with the SailPointContext.
            </Description>
          </Argument>

            <Argument name="log">
                <Description>
              The log object associated with the SailPointContext.
            </Description>
            </Argument>
            <Argument name="context">
                <Description>
              A sailpoint.api.SailPointContext object that can be used to query
              the database if necessary.
            </Description>
            </Argument>
            <Argument name="approvals">
                <Description>
              List of approvals generated by the approvalScheme, maybe null if
              there were no
              approvals enabled.
            </Description>
            </Argument>
            <Argument name="approvalSet">
                <Description>
              Representation of the cart, also found on the approvals generated by the
              default schemes.
            </Description>
            </Argument>
        </Inputs>
        <Returns>
            <Argument name="newApprovals">
                <Description>
              Return a lIst of Workflow.Approval objects that should be included
              during the approval process.
            </Description>
            </Argument>
        </Returns>
    </Signature>

<ReferencedRules>
  <Reference class="sailpoint.object.Rule" name="Global Rule Library"/>
</ReferencedRules>
  <Source>
<![CDATA[
import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import sailpoint.api.SailPointContext;
import org.apache.commons.logging.Log;
import sailpoint.object.TaskResult;
import java.util.List;
import sailpoint.object.ApprovalSet;

//Log mylogger = LogFactory.getLog("rule.ApprovalAssignment");
//mylogger.debug("Start ApprovalAssignment");
//add the following lines to IIQ Log4j properties file to use this logger
//logger.ApprovalAssignment.name=rule.ApprovalAssignment 
//logger.ApprovalAssignment.level=debug

//Available Input Variables
//approvals;
//approvalSet;


//mylogger.debug("End ApprovalAssignment");
//this rule does not return anything

]]>
  </Source>
</Rule>
</sailpoint>